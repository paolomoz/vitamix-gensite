/**
 * Accordion Block Styles
 * Uses native details/summary with smooth height animation
 * Ported from Vitamix reference implementation
 */

.accordion details {
  background-color: var(--color-gray-300);
  margin-bottom: var(--spacing-100);
  border-radius: var(--rounding-m);
}

.accordion details summary {
  list-style: none;
  position: relative;
  padding: var(--spacing-100) var(--spacing-300);
  padding-right: calc(2 * var(--spacing-300));
  font-family: var(--heading-font-family);
  font-size: var(--font-size-200);
  font-weight: var(--weight-medium);
  color: var(--color-charcoal);
  cursor: pointer;
}

.accordion details summary:focus,
.accordion details summary:hover {
  text-decoration: underline;
}

/* Hide default marker */
.accordion details summary::-webkit-details-marker {
  display: none;
}

/* Plus/minus indicator using pseudo-elements */
.accordion details summary::before,
.accordion details summary::after {
  content: '';
  position: absolute;
  top: 50%;
  right: var(--spacing-300);
  width: 14px;
  height: 2px;
  background-color: currentcolor;
  transition: transform 0.2s ease;
}

/* Vertical bar (forms +) */
.accordion details summary::after {
  transform: rotate(90deg);
}

/* When open, rotate to form - */
.accordion details[open]:not([data-closing]) summary::after {
  transform: rotate(0deg);
}

/* Accordion body */
.accordion details .accordion-item-body {
  height: 0;
  padding: 0 var(--spacing-300);
  overflow: hidden;
  transition: height 0.6s ease;
}

.accordion details .accordion-item-body > *:first-child {
  margin-top: 0;
}

.accordion details .accordion-item-body > *:last-child {
  margin-bottom: var(--spacing-300);
}

/* Dark section variant */
.section.dark .accordion details {
  background-color: var(--color-white-alpha-10, rgba(255 255 255 / 10%));
}

.section.dark .accordion details summary {
  color: var(--color-white);
}

/* Bordered variant */
.accordion.bordered details {
  background-color: transparent;
  border: var(--border-s) solid var(--color-gray-400);
}

.accordion.bordered details summary:hover {
  background-color: var(--color-gray-200);
}

/* Red marker variant (for feature lists) */
.accordion.red-marker details summary::before {
  display: none;
}

.accordion.red-marker details summary::after {
  width: 4px;
  height: 4px;
  right: auto;
  left: var(--spacing-100);
  background-color: var(--color-red);
  border-radius: 50%;
  transform: none;
}

.accordion.red-marker details summary {
  padding-left: calc(var(--spacing-100) + 16px);
}

/* Responsive */
@media (width < 600px) {
  .accordion details summary {
    padding: var(--spacing-80) var(--spacing-200);
    padding-right: calc(2 * var(--spacing-200));
    font-size: var(--font-size-100);
  }

  .accordion details summary::before,
  .accordion details summary::after {
    right: var(--spacing-200);
    width: 12px;
  }

  .accordion details .accordion-item-body {
    padding: 0 var(--spacing-200);
  }
}
