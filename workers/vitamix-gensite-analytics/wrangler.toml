# Vitamix Analytics Worker Configuration
name = "vitamix-gensite-analytics"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# ============================================
# REQUIRED SETUP BEFORE DEPLOYMENT
# ============================================
# 1. Create KV namespace:
#    wrangler kv:namespace create ANALYTICS
#    Then update the id below with the returned ID
#
# 2. Set API secrets for multi-agent AI analysis:
#    wrangler secret put ANTHROPIC_API_KEY
#    wrangler secret put OPENAI_API_KEY
#    wrangler secret put GOOGLE_API_KEY
# ============================================

# Environment variables
[vars]
DEBUG = "false"

# KV for analytics data (create with: wrangler kv:namespace create ANALYTICS)
[[kv_namespaces]]
binding = "ANALYTICS"
id = "121a037cd3eb47f295bc7931b490c191"

# Development settings
[dev]
port = 8788
local_protocol = "http"
